# table-site
Simple site from google table

Документация к проекту 'table-site'

Содержание:
1. Общее описание
2. Структура проекта
2.1. index.php
2.2. Controller.php
2.3. ini.json
3. Типы данных
3.1. integer;
3.2. float;
3.3. link;
3.4. dropdown;
3.5. string;
4. Структура таблицы с данными
5. Публикация таблицы
6. Внесение изменений
6.1. Изменить адрес сайта
6.2. Изменить адрес таблицы с данными
7. Разработчик

1. Общее описание
Сайт предназначен для отображения, сортировки и фильтрации данных с гугл таблицы. 


2. Структура проекта
Проект состоит из двух скриптов:
2.1. index.php - отвечает за первоначальную загрузку сайта, сортировку, стили и сигналы для контроллера
2.2. Controller.php - фильтрует и передаёт данные
2.3. ini.json - данные для настройки


3. Типы данных
Допустимые типы данных для скрипта:
3.1. integer
Тип данных для целых чисел. Колонка с таким типом данных будет иметь две кнопки для фильтрации, значения которых берутся от максимального числа колонки, ("Min" - "0%-80%" и "Max" - "90%-100%") в левой панеле сайта.

3.2. float
Тип данных для дробных чисел. Колонка с таким типом данных будет иметь кнопки для фильтрации(5-10, 10-20, 20-30, 30-40, ... , 90-100) в левой панеле сайта.

3.3. link
Тип данных для ссылок. Колонку с этим типом данных нужно расположить после текста, который должен иметь ссылку.

3.4. dropdown
Тип данных для выпадающего списка. Колонка с таким типом данных будет иметь выпадающий список в левой панеле сайта. Данные будую выведены при выборе одного из элементов выпадающего списка. В таблице должен использоваться только 1 раз.

3.5. string
Тип данных для строк и других типов данных.


4. Структура таблицы с данными
Таблица должна иметь 2 основных части:
1) Параметры и заголовки(1-3 рядки)
*1-й рядок - рядок для типов данных. Каждая колонка должна иметь заполенную клетку. Она отвечает за то, как скрипт будет воспринимать ваши колоники с данными. Допустимые значения: integer, float, link, dropdown, string.
*2-й рядк - рядок для названий колонок для фильтрации. Каждая колонка должна иметь заполенную клетку. Значения в клетках этого рядка не должны иметь пробел(" ")
*3-й рядок - рядок для заголовков колонок. Каждая колонка должна иметь заполенную клетку. Этот клетки этого рядка отображаются как заголовки колонки на сайте.
Для коректной работы для все клетки в 1,2,3 рядках должны быть заполненными.
2) Данные(4-... рядки)
Начиная с 4-го рядка должны находиться данные для отображения. Ограничений по количеству рядков нет.


5. Публикация таблицы
Для того, чтобы скрипт смог получить данные с таблицы, необходимо опубликовать таблицу в интернете. Для этого выполните следующие действия:
1) в верхней левой части экрана нажмите на кнопку "Файл";
2) выберите "Опубликовать в Интернете";
3) в появившемуся окне, в блоке "Ссылки", в первом выпадающем списке выберите нужную для публикации страницу (если у вас 1 лист и вы не изменяли названия листа, то по-умолчанию "Лист1"), а во второй выпадающем спике выберите "Значения, розделённые запятыми (.csv)";
4) нажмите кнопку "Опубликовать". Появивщеяся ссылка - ссылка, которую нужно вставить в скрипт;
5) в блоке "Опубликованное содержание и настройки" проверьте маркер на против "Автоматически выполнять повторную публикацию в случае внесения изменений"

6. Внесение изменений
Все изменения вносятся в файл ini.json
6.1. Изменить адрес сайта
Если сайт лежит не в главной директории. То нужно изменить путь для контроллера.
К примеру, сайт имеет ссылку: http://test.te/table . Нужно в файле для параметра "controller_url"  прописать так:
"controller_url": "/table/Controller.php",
Если ссылка такая:  http://test.te/ . То параметр "controller_url" должен иметь следующиее значение:
"controller_url": "/Controller.php",

6.2. Изменить адрес таблицы с данными
Адрес вставляет в значение параметра "table_url" следющим образом:
"table_url": "https://docs.google.com/spreadsheets/d/e/FK38_j/pub?gid=0&single=true&output=csv"
Если у вас нет ссылки или ссылка не работает, то получите ссылку в пункте "5. Публикация таблицы" на 4-м шаге.

Пример файла ini.json:
{
  "controller_url": "/Controller.php",
  "table_url": "https://docs.google.com/spreadsheets/d/e/FK38_j/pub?gid=0&single=true&output=csv"
}


7. Разработчик
Разработчик проекта: Назар Кальян
E-mail: nazar.10.17k@gmail.com
